<!DOCTYPE html><html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏Å‡∏±‡∏ö‡∏î‡∏±‡∏Å‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ô‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÅ‡∏™‡∏ö | ‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏±‡∏Å</title>
  <link href="https://fonts.googleapis.com/css2?family=Mitr&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(145deg, #fdf5ff, #f0f8ff);
      font-family: 'Mitr', sans-serif;
      color: #432d5d;
      padding: 40px;
      max-width: 1024px;
      margin: auto;
      text-align: center;
      user-select: none;
    }.content-wrapper {
  text-align: left;
  margin: 0 auto;
  max-width: 900px;
}

.site-button {
  display: inline-block;
  padding: 12px 28px;
  margin-bottom: 30px;
  background-color: #f6d8ff;
  color: #6d3fb0;
  text-align: center;
  font-size: 2.2rem;
  font-weight: bold;
  border-radius: 999px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  text-decoration: none;
  transition: transform 0.3s ease, background-color 0.3s ease;
}

.site-button:hover {
  background-color: #e8c2ff;
  transform: scale(1.05);
}
    
h1 {
  color: #7b4ca0;
  text-align: left;
  font-size: 1rem;
  margin-bottom: 10px;
}

.summary, .text-content {
  white-space: pre-wrap;
  text-indent: 4em;
  text-align: justify;
  font-size: 0.9rem;
  line-height: 1.9;
  color: #5e437f;
  background: #ffffff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(0,0,0,0.03);
  text-align: justify;
  text-indent: 4em;
  margin-bottom: 30px;
}

.action-section {
  display: flex;
  justify-content: space-between;
  gap: 20px;
  margin: 50px 0;
  flex-wrap: wrap;
}

.action-box {
  flex: 1;
  min-width: 300px;
  background-color: #f6e7ff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.05);
  text-align: center;
}

.action-box p {
  font-size: 1.21rem;
  color: #6e3cab;
  margin-bottom: 10px;
}
    
.episode {
  margin-bottom: 30px;
}

.episode-title {
  cursor: pointer;
  color: #6e3cab;
  font-weight: bold;
  font-size: 1rem;
  background-color: #f6e7ff;
  padding: 12px 20px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  transition: background 0.3s ease;
  text-align: left;
}

.episode-title:hover {
  background-color: #e4ccff;
}

.unlock-button {
  padding: 10px 20px;
  background: linear-gradient(135deg, #b68df5, #925fdd);
  color: #fff;
  border: none;
  border-radius: 30px;
  font-weight: bold;
  font-size: 0.8rem;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  cursor: pointer;
  transition: transform 0.3s ease, background 0.3s ease;
}

.unlock-button:hover {
  background: linear-gradient(135deg, #925fdd, #b68df5);
  transform: scale(1.05);
}

.thank-you {
  text-align: center;
  font-size: 1rem;
  margin-top: 60px;
  margin-bottom: 10px;
  color: #5e407f;
  font-style: italic;
}

.comment-box {
  margin-top: 40px;
  background: #f5f0ff;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.comment-box textarea {
  width: 100%;
  font-family: 'Mitr', sans-serif;
  font-size: 0.61rem;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 10px;
  resize: vertical;
}

.emoji-bar {
  margin-top: 10px;
}

.emoji-bar span {
  cursor: pointer;
  font-size: 0.61rem;
  margin-right: 10px;
  transition: transform 0.2s ease;
}

.emoji-bar span:hover {
  transform: scale(1.3);
}

.submit-button {
  margin-top: 15px;
  padding: 10px 20px;
  background-color: #a87ce6;
  color: #fff;
  border: none;
  border-radius: 30px;
  font-size: 0.97rem;
  cursor: pointer;
  transition: background 0.3s ease;
}

.submit-button:hover {
  background-color: #8f63d2;
}

.back-button {
  display: inline-block;
  padding: 12px 28px;
  background: linear-gradient(135deg, #c79df4, #a57be7);
  color: #fff;
  text-decoration: none;
  border-radius: 30px;
  font-weight: bold;
  font-size: 1.46rem;
  box-shadow: 0 4px 12px rgba(167, 125, 221, 0.4);
  transition: all 0.3s ease;
  margin-top: 30px;
}

.back-button:hover {
  background: linear-gradient(135deg, #a577e7, #c79df4);
  box-shadow: 0 6px 16px rgba(135, 95, 190, 0.5);
  transform: scale(1.05);
}

.back-container {
  text-align: center;
}

.footer {
  margin-top: 60px;
  font-size: 0.61rem;
  color: #9a7fb5;
  text-align: center;
}

  .cover-summary-row {
  display: flex;
  align-items: center;
  gap: 24px;
  margin-bottom: 40px;
  flex-wrap: wrap;
}

.novel-cover {
  width: 180px;
  max-width: 100%;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  flex-shrink: 0;
}

.novel-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-width: 0;
}

.novel-title {
  font-size: 1.6rem;
  color: #6e3cab;
  margin-bottom: 10px;
  line-height: 1.3;
}

.novel-summary {
  font-size: 1rem;
  color: #5e437f;
  line-height: 1.7;
}

/* ‚úÖ Responsive ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏Ñ‡∏ö */
@media screen and (max-width: 600px) {
  .cover-summary-row {
    flex-direction: column;
    text-align: center;
  }

  .novel-title {
    font-size: 1.3rem;
  }

  .novel-summary {
    font-size: 0.95rem;
  }
}
  </style>
</head>
<body>
  <a href="/" class="site-button">‚ú® Arn-niyay-khan ‚ú®</a>
<div style="text-align: right; margin-bottom: 20px; font-size: 0.66rem; color: #6e3cab;">
    üí∞ ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span id="coin-count">0</span> ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç
  </div>
  
  <div class="cover-summary-row">
  <img src="link-to-your-cover.jpg" alt="‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏Å‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢" class="novel-cover">
  <div class="novel-info">
    <h2 class="novel-title">üìò ‡∏Å‡∏±‡∏ö‡∏î‡∏±‡∏Å‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ô‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÅ‡∏™‡∏ö</h2>
    <p class="novel-summary">
      ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏™‡∏ö‡∏à‡πâ‡∏≠‡∏á‡∏à‡∏∞‡∏õ‡πà‡∏ß‡∏ô‡∏Ñ‡∏£‡∏π‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏≠‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß<br>
      ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡πÉ‡∏ô‡∏£‡∏±‡πâ‡∏ß‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏ß‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß...
    </p>
  </div>
</div>
  
   <div class="action-section">
  <div class="action-box">
    <p>üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏ï‡∏≠‡∏ô‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
    <button class="unlock-button" onclick="unlockAllEpisodes()">‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏ï‡∏≠‡∏ô (4 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç)</button>
  </div>
    <div class="action-box">
    <p>üìò ‡∏ã‡∏∑‡πâ‡∏≠ PDF + ‡∏ï‡∏≠‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏∏‡∏î‡∏ü‡∏¥‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏ï‡∏≠‡∏ô</p>
    <button class="unlock-button" onclick="buyPdfAll(19, 'link-to-your-pdf.pdf')">‡∏ã‡∏∑‡πâ‡∏≠ PDF ‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á (19 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç)</button>
  </div>
</div>

  <div class="episode">
  <div class="episode-title" onclick="toggleEpisode('ep1')">üìñ ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏û‡∏ö‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
  <div class="text-content" id="ep1" style="display: none;" data-content="
‡∏ô‡∏≤‡∏¢‡∏à‡∏∞‡∏°‡∏≤‡∏ô‡∏±‡πà‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ!

‡∏ó‡∏≥‡πÑ‡∏°‡∏•‡πà‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏π... ‡∏ú‡∏°‡∏ô‡∏±‡πà‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏£‡∏π‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏£‡∏≠?

‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡∏ä‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏ù‡∏á‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏ß‡∏ß‡∏Ç‡∏ö‡∏Ç‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πâ‡∏≤‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢
‡∏Ñ‡∏£‡∏π‡∏´‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏¥‡πà‡∏á‡∏≠‡∏∂‡πâ‡∏á‡πÑ‡∏õ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏π‡πà ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏â‡∏¢

‡πÄ‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á...
‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏µ
‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏î‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î
"></div>
</div>

  <div class="episode">
  <div class="episode-title" onclick="toggleEpisode('ep2')">üîí ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏£‡∏≠‡∏¢‡πÅ‡∏ú‡∏•‡πÉ‡∏ô‡πÉ‡∏à</div>
  <div class="text-content" id="ep2" style="display: none;" data-content="
‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ù‡∏ô‡∏ï‡∏Å‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏™‡∏á‡∏±‡∏î

‡∏Ñ‡∏£‡∏π‡∏´‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏´‡∏°‡πà‡∏≠‡∏°‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ô‡∏≠‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏≥ ‡πÅ‡∏ï‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô‡πÉ‡∏à‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢

‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï... ‡∏¢‡∏±‡∏á‡∏ù‡∏±‡∏á‡∏•‡∏∂‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏´‡∏±‡∏ß‡πÉ‡∏à
"></div>

    </div>
</div> <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç -->
<div id="confirmModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.4); z-index:9999;">
  <div style="background:#fff; max-width:400px; margin:15% auto; padding:30px; border-radius:12px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.2); font-family:'Mitr', sans-serif;">
    <p style="font-size:1.1rem; color:#6e3cab;">‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ 2 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç<br>‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
    <div style="margin-top:20px;">
      <button onclick="cancelUnlock()" style="margin-right:10px; padding:10px 20px; border:none; border-radius:30px; background:#ccc; color:#333; font-weight:bold;">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      <button onclick="confirmUnlock()" style="padding:10px 20px; border:none; border-radius:30px; background:#a87ce6; color:#fff; font-weight:bold;">‡∏ï‡∏Å‡∏•‡∏á</button>
    </div>
  </div>
</div>
  
<div class="comment-box">
    <h3>üí¨ ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô</h3>
    <textarea placeholder="‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." rows="4"></textarea>
    <div class="emoji-bar">
      <span onclick="appendEmoji(this)">üòç</span>
      <span onclick="appendEmoji(this)">üò≠</span>
      <span onclick="appendEmoji(this)">üî•</span>
    </div>
    <button class="submit-button" onclick="alert('‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏∞!')">‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô</button>
  </div>  <div class="thank-you">üíú ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏≠‡∏∏‡∏î‡∏´‡∏ô‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢ ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏±‡∏Å‡∏à‡∏≤‡∏Å‡πÉ‡∏à üíú</div>  
  </div> <div class="back-container">
    <a href="/coderak/" class="back-button">‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏≤‡∏°‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤ ‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏±‡∏Å</a>
  </div>  <div class="footer">
    ¬© 2025 Arn-niyay-khan | ‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ô‡∏≤‡∏°‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏´‡∏•‡∏≤‡∏Å‡∏£‡∏™ ‡∏ô‡∏±‡∏Å‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏´‡∏•‡∏≤‡∏Å‡πÅ‡∏ô‡∏ß ‚ú®
  </div> <script>
  // ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ global
  let pendingUnlockId = null;

  function getCoins() {
    return parseInt(localStorage.getItem("user_coins") || "0");
  }

  function setCoins(value) {
    localStorage.setItem("user_coins", value);
    updateCoinDisplay();
  }

  function deductCoins(amount) {
    const current = getCoins();
    if (current < amount) {
      alert(`‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${current} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ ${amount} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç`);
      return false;
    }
    setCoins(current - amount);
    return true;
  }

  function updateCoinDisplay() {
    const coinEl = document.getElementById("coin-count");
    if (coinEl) coinEl.textContent = getCoins();
  }

  function renderEpisodeContent(block) {
    const raw = block.dataset.content || "";
    const paragraphs = raw.trim().split(/\n\s*\n|\n+/);
    block.innerHTML = paragraphs.map(p => `<p style="text-indent: 2em; margin-bottom: 1em;">${p.trim()}</p>`).join("");
  }

  function toggleEpisode(id) {
    const el = document.getElementById(id);
    if (!el) return;

    const isUnlocked = localStorage.getItem("unlocked_" + id) === "true" || localStorage.getItem("unlocked_all") === "true";

    if (id === "ep1") {
      if (el.innerHTML.trim() === "") renderEpisodeContent(el);
      el.style.display = el.style.display === "none" ? "block" : "none";
      return;
    }

    if (!isUnlocked) {
      pendingUnlockId = id;
      document.getElementById("confirmModal").style.display = "block";
      return;
    }

    if (el.innerHTML.trim() === "") renderEpisodeContent(el);
    el.style.display = el.style.display === "none" ? "block" : "none";
  }

  function cancelUnlock() {
    document.getElementById("confirmModal").style.display = "none";
    pendingUnlockId = null;
  }

  function confirmUnlock() {
    if (!pendingUnlockId) return;

    const el = document.getElementById(pendingUnlockId);
    if (!el) return;

    if (deductCoins(2)) {
      localStorage.setItem("unlocked_" + pendingUnlockId, "true");
      alert("‚úÖ ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞");
      renderEpisodeContent(el);
      el.style.display = "block";
    }

    document.getElementById("confirmModal").style.display = "none";
    pendingUnlockId = null;
  }

  function unlockAllEpisodes() {
    if (confirm("‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ 6 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏¢‡πÑ‡∏´‡∏°?")) {
      if (deductCoins(6)) {
        localStorage.setItem("unlocked_all", true);
        alert("‚úÖ ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡∏Ñ‡πà‡∏∞!");
      }
    }
  }

  function buyPdfAll(cost, link) {
    if (confirm(`‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô PDF + ‡∏ï‡∏≠‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡πÉ‡∏ä‡πâ ${cost} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°?`)) {
      if (deductCoins(cost)) {
        alert("‚úÖ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡πà‡∏∞! ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏û‡∏≤‡πÑ‡∏õ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF");
        window.location.href = link;
      }
    }
  }

  function appendEmoji(el) {
    const textarea = document.querySelector(".comment-box textarea");
    if (textarea) {
      textarea.value += el.textContent;
      textarea.focus();
    }
  }

  document.addEventListener("DOMContentLoaded", function () {
    const summary = document.querySelector(".summary");
    if (summary) renderEpisodeContent(summary);

    if (!localStorage.getItem("user_coins")) {
      setCoins(100);
    }

    updateCoinDisplay();
  });
</script>

</body>
</html>
